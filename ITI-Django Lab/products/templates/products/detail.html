{% extends "base.html" %}
{% block title %}{{ product.name }} Â· MarketPlace{% endblock %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-12">
  <div>
    {% if product.image %}
    <img src="{{ product.image.url }}" alt="{{ product.name }}"
      class="w-full rounded-2xl shadow-xl border-2 border-light-teal">
    {% else %}
    <div
      class="w-full h-96 rounded-2xl bg-light-teal flex items-center justify-center text-teal border-2 border-light-teal">
      <div class="text-center">
        <div class="text-6xl mb-4">ðŸ“·</div>
        <div class="text-xl font-medium">No Image Available</div>
      </div>
    </div>
    {% endif %}
  </div>
  <div class="space-y-6">
    <div>
      <h1 class="text-4xl font-bold mb-3 text-deep-blue">{{ product.name }}</h1>
      <div class="text-teal text-lg font-medium mb-4">Product Code: {{ product.code }}</div>
    </div>

    <div class="bg-white p-6 rounded-xl shadow-lg border border-light-teal">
      <div class="text-3xl font-bold text-deep-blue mb-2">{{ product.price }} EGP</div>
      <div class="flex items-center text-teal mb-2">
        <span class="text-lg">In stock: </span>
        <span class="font-bold text-xl ml-2 bg-light-teal px-3 py-1 rounded-full text-deep-blue">{{ product.instock_items }}</span>
      </div>
      <div class="text-sm text-teal">
        Category:
        <a href="{% url 'categories:detail' product.category.pk %}" class="underline hover:text-deep-blue">{{ product.category.name }}</a>
      </div>
    </div>

    {% if product.description %}
    <div class="bg-light-green p-6 rounded-xl border border-light-teal">
      <h3 class="text-xl font-bold text-deep-blue mb-3">Description</h3>
      <p class="text-deep-blue whitespace-pre-line leading-relaxed">{{ product.description }}</p>
    </div>
    {% endif %}

    <div class="flex gap-4">
      <a href="{% url 'products:edit' product.pk %}"
        class="flex-1 px-6 py-3 rounded-lg bg-teal text-white hover:bg-deep-blue transition-colors duration-200 text-center font-medium shadow-lg">
        Edit Product
      </a>
      <form action="{% url 'products:delete' product.pk %}" method="post" class="flex-1">
        {% csrf_token %}
        <button type="submit"
          class="w-full px-6 py-3 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors duration-200 font-medium shadow-lg"
          onclick="return confirm('Are you sure you want to delete this product?');">
          Delete Product
        </button>
      </form>
    </div>

    <a href="{% url 'products:list' %}"
      class="inline-flex items-center text-teal hover:text-deep-blue transition-colors duration-200 font-medium">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
      </svg>
      Back to Products
    </a>
  </div>
</div>
{% endblock %}